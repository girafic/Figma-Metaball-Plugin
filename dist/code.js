!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}({5:function(e,t){figma.showUI(__html__,{width:220,height:230});let n=[],r=null,i=figma.currentPage;function o(e,t,n,r,i=2.4,o=.5,c="Full"){const u=Math.PI/2,f=a(n,r);let h,s;if(0===e||0===t||f>e+300*t||f<=Math.abs(e-t))return"";f<e+t?(h=Math.acos((e*e+f*f-t*t)/(2*e*f)),s=Math.acos((t*t+f*f-e*e)/(2*t*f))):(h=0,s=0);const d=function([e,t],[n,r]){return Math.atan2(t-r,e-n)}(r,n),g=Math.acos((e-t)/f),p=d+h+(g-h)*o,m=d-h-(g-h)*o,M=d+Math.PI-s-(Math.PI-s-g)*o,y=d-Math.PI+s+(Math.PI-s-g)*o,P=l(n,p,e),b=l(n,m,e),w=l(r,M,t),v=l(r,y,t),S=e+t,_=Math.min(o*i,a(P,w)/S)*Math.min(1,2*f/(e+t)),j=e*_,E=t*_;return function(e,t,n,r,i,o,a,l,c,u,f,h){return"Half"==h?["M",e,"C",i,a,n,"L",r,"C",l,o,t,"Z"].join(" "):["M",e,"C",i,a,n,"A",u,u,0,c?1:0,0,r,"C",l,o,t,"A",f,f,0,c?1:0,0,e].join(" ")}(P,b,w,v,l(P,p-u,j),l(b,m+u,j),l(w,M+u,E),l(v,y-u,E),f>e,t,e,c)}function a([e,t],[n,r]){return Math.pow(Math.pow(e-n,2)+Math.pow(t-r,2),.5)}function l([e,t],n,r){return[e+r*Math.cos(n),t+r*Math.sin(n)]}figma.ui.onmessage=e=>{if("create-metaball"===e.type){const t=figma.currentPage.selection;if(r=t,figma.currentPage.selection.length<2)figma.closePlugin("Select more than one circle layer!");else{n.forEach(e=>{e.removed||e.remove()}),n=[];let r=e.rate||50,a=24,l="Half",c=1;for(let e=t.length-1;e>=1;e--)for(let u=e-1;u>=0;u--)if("ELLIPSE"===t[e].type&&t[e].width===t[e].height&&"ELLIPSE"===t[u].type&&t[u].width===t[u].height){let f=o(t[e].width/2,t[u].width/2,[t[e].x+t[e].width/2,t[e].y+t[e].width/2],[t[u].x+t[u].width/2,t[u].y+t[u].width/2],a/10,r/100,l).replace(/,/g," ");if(i=t[e].parent,f){let r=figma.createVector(),o=t[e];r.vectorPaths=[{windingRule:"EVENODD",data:f}],n.push(r),r.name="MetaballShape"+c,r.fills=o.fills,r.strokes=o.strokes,r.strokeWeight=o.strokeWeight,r.strokeAlign=o.strokeAlign,i.appendChild(r),c++}else figma.closePlugin("Wrong distance")}else figma.closePlugin("Selected layers are not circle layers!")}}else if("union"===e.type){if(n.length>0&&r.length>0){const e=figma.createBooleanOperation();r.forEach(t=>{t.removed||e.appendChild(t)}),n.forEach(t=>{t.removed||e.appendChild(t)}),i.appendChild(e)}}else figma.closePlugin()}}});
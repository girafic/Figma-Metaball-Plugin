!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}({5:function(e,t){figma.showUI(__html__,{width:220,height:228});let n=[],r=null,a=figma.currentPage,i=null;function o(e,t,n,r,a=2.4,i=.5,o="Full"){const f=Math.PI/2,c=l(n,r);let s,h;if(0===e||0===t||c>e+300*t||c<=Math.abs(e-t))return"";c<e+t?(s=Math.acos((e*e+c*c-t*t)/(2*e*c)),h=Math.acos((t*t+c*c-e*e)/(2*t*c))):(s=0,h=0);const d=function([e,t],[n,r]){return Math.atan2(t-r,e-n)}(r,n),p=Math.acos((e-t)/c),g=d+s+(p-s)*i,m=d-s-(p-s)*i,y=d+Math.PI-h-(Math.PI-h-p)*i,M=d-Math.PI+h+(Math.PI-h-p)*i,b=u(n,g,e),P=u(n,m,e),w=u(r,y,t),v=u(r,M,t),S=e+t,_=Math.min(i*a,l(b,w)/S)*Math.min(1,2*c/(e+t)),j=e*_,E=t*_;return function(e,t,n,r,a,i,o,l,u,f,c,s){return"Half"==s?["M",e,"C",a,o,n,"L",r,"C",l,i,t,"Z"].join(" "):["M",e,"C",a,o,n,"A",f,f,0,u?1:0,0,r,"C",l,i,t,"A",c,c,0,u?1:0,0,e].join(" ")}(b,P,w,v,u(b,g-f,j),u(P,m+f,j),u(w,y+f,E),u(v,M-f,E),c>e,t,e,o)}function l([e,t],[n,r]){return Math.pow(Math.pow(e-n,2)+Math.pow(t-r,2),.5)}function u([e,t],n,r){return[e+r*Math.cos(n),t+r*Math.sin(n)]}figma.ui.onmessage=e=>{if("create-metaball"===e.type){const t=figma.currentPage.selection;let l=!1;if(r&&(l=t.every(e=>r.includes(e))),r=t,figma.currentPage.selection.length<2)i&&i.cancel(),i=figma.notify("Select more than one circle layer!",{timeout:3});else{l&&n.forEach(e=>{e.removed||e.remove()}),n=[];let r=e.rate||50,i=24,u="Half",f=1;for(let e=t.length-1;e>=1;e--)for(let l=e-1;l>=0;l--)if("ELLIPSE"===t[e].type&&t[e].width===t[e].height&&"ELLIPSE"===t[l].type&&t[l].width===t[l].height){let c=t[e].parent.id!==t[l].parent.id?t[e].absoluteTransform[0][2]:t[e].x,s=t[e].parent.id!==t[l].parent.id?t[e].absoluteTransform[1][2]:t[e].y,h=t[e].parent.id!==t[l].parent.id?t[l].absoluteTransform[0][2]:t[l].x,d=t[e].parent.id!==t[l].parent.id?t[l].absoluteTransform[1][2]:t[l].y,p=o(t[e].width/2,t[l].width/2,[c+t[e].width/2,s+t[e].width/2],[h+t[l].width/2,d+t[l].width/2],i/10,r/100,u).replace(/,/g," ");if(a=t[e].parent.id!==t[l].parent.id?figma.currentPage:t[e].parent,p){let r=figma.createVector(),i=t[e];r.vectorPaths=[{windingRule:"EVENODD",data:p}],n.push(r),r.name="MetaballShape"+f,r.fills=i.fills,r.strokes=i.strokes,r.strokeWeight=i.strokeWeight,r.strokeAlign=i.strokeAlign,a.appendChild(r),f++}else figma.notify("Wrong distance")}else figma.notify("Selected layers are not circle layers!")}}else if("union"===e.type){if(n.length>0&&r.length>0){const e=[];r.forEach(t=>{t.removed||e.push(t)}),n.forEach(t=>{t.removed||e.push(t)}),figma.union(e,a)}}else figma.closePlugin()}}});